(()=>{"use strict";var e,t={968:(e,t,n)=>{var a=n(326),r=n(942),o=n(671),l=n(144),i=n(340),s=n(215),c=n(120),u=n(152),p=n(461),d=n.n(p),m=n(294),h=n(935),b=n(682),f=n(51),v=n(555),g=n(318),y=n(716),E=n(754),_=n(258),Z=n(625),w=n(436);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.Z)(this,n)}}var O=function(){var e=(0,m.useState)(!1),t=(0,u.Z)(e,2),n=t[0],a=t[1],r=(0,m.useState)(null),o=(0,u.Z)(r,2),l=o[0],i=o[1],s=(0,m.useState)(""),c=(0,u.Z)(s,2),p=c[0],h=c[1];return(0,m.useEffect)((function(){return null==l?(console.error("Websocket not initialized"),function(){}):(l.onmessage=function(e){var t=e.data,n=t.slice(0,t.size,"image/png"),a=URL.createObjectURL(n);p.length>0&&URL.revokeObjectURL(p),h(a)},l.onerror=function(e){console.error("Websocket errored: ",e),null==l||l.close(),i(null),a(!1)},function(){null==l||l.close(),i(null),a(!1)})}),[l]),m.createElement(b.Z,null,m.createElement(f.Z,{className:"justify-content-center"},m.createElement(v.Z,{lg:"8"},m.createElement("div",{className:"header-hero-content text-center"}),m.createElement(f.Z,null,m.createElement(v.Z,{lg:"6"},m.createElement("div",{className:"subscribe-content mt-45"},m.createElement("h2",{className:"subscribe-title"},"We recommend plain English",m.createElement("span",null,"With many keywords")))),m.createElement(v.Z,{lg:"6"},m.createElement(j,{running:n,onSubmit:function(e){var t=new WebSocket("wss://api.doodlebot.ai/api/run");i(t),a(!0);var n={width:e.width,height:e.height,prompts:e.prompts.filter((function(e){return e.enabled})).map((function(e){return e.value}))};t.onopen=function(e){var a=d().serialize(n);null==t||t.send(a)}}}))))),m.createElement(f.Z,{className:"justify-content-center"},null!=l&&m.createElement("div",{id:"output"},(null==l?void 0:l.readyState)==WebSocket.OPEN?m.createElement("img",{src:p}):"Loading...")))},S=function(e){(0,i.Z)(n,e);var t=F(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"_onCheck",value:function(e){this.props.onCheckChange&&this.props.onCheckChange(e)}},{key:"_onForm",value:function(e){this.props.onFormChange&&this.props.onFormChange(e)}},{key:"_onButton",value:function(e){this.props.onButtonClick&&this.props.onButtonClick(e)}},{key:"render",value:function(){return m.createElement(g.Z,null,this.props.showCheckbox&&m.createElement(g.Z.Checkbox,{disabled:this.props.disabled,hidden:!this.props.showCheckbox,checked:this.props.state.enabled,onChange:this._onCheck.bind(this)}),m.createElement(y.Z,{placeholder:"A new prompt",disabled:this.props.disabled,onChange:this._onForm.bind(this),value:this.props.state.value}),m.createElement(E.Z,{variant:"secondary",disabled:this.props.disabled,hidden:!this.props.showButton,onClick:this._onButton.bind(this)},m.createElement(Z.G,{icon:this.props.isAdd?w.r8p:w.Kl4})))}}]),n}(m.Component),j=function(e){(0,i.Z)(n,e);var t=F(n);function n(){var e;(0,o.Z)(this,n);for(var l=arguments.length,i=new Array(l),s=0;s<l;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,r.Z)((0,a.Z)(e),"state",{prompts:[{enabled:!1,value:""}],cutn:0,cut_pow:0,mse_weight:0,mse_decay:0,mse_decay_every:0,step_size:0,noise_fac:0,clip_name:"",vqgan_name:"vqgan_imagenet_f16_16384",width:1e3,height:1e3}),e}return(0,l.Z)(n,[{key:"togglePrompt",value:function(e,t){var n=this.state.prompts,a=n[e];a&&(a.enabled=!a.enabled,t.target.checked=a.enabled),this.setState(k(k({},this.state),{},{prompts:n}))}},{key:"updatePrompt",value:function(e,t){var n=this.state.prompts,a=n[e];if(a){var r=t.target.value;0==r.length?a.enabled=!1:!a.enabled&&0==a.value.length&&r.length>0&&(a.enabled=!0),a.value=r}this.setState(k(k({},this.state),{},{prompts:n}))}},{key:"addsubPrompt",value:function(e,t){var n=this.state.prompts;n[e]&&(e===n.length-1?n.push({enabled:!1,value:""}):n.splice(e,1),this.setState(k(k({},this.state),{},{prompts:n})))}},{key:"render",value:function(){var e=this;return m.createElement(_.Z,null,this.state.prompts.map((function(t,n){return m.createElement(S,{key:n,showCheckbox:!0,showButton:!0,isAdd:n===e.state.prompts.length-1,state:t,disabled:e.props.running,onCheckChange:e.togglePrompt.bind(e,n),onFormChange:e.updatePrompt.bind(e,n),onButtonClick:e.addsubPrompt.bind(e,n)})})),m.createElement(_.Z.Group,null,m.createElement(_.Z.Label,null,"CUT NUMBER"),m.createElement(_.Z.Control,{type:"range",defaultValue:"0",disabled:this.props.running,onChange:function(t){t.preventDefault(),e.setState(k(k({},e.state),{},{cutn:Number.parseInt(t.target.value)}))}}),m.createElement(_.Z.Label,null,this.state.cutn)),m.createElement(_.Z.Group,null,m.createElement(_.Z.Label,null,"CUT POWER"),m.createElement(_.Z.Control,{type:"range",defaultValue:"0",disabled:this.props.running,onChange:function(t){t.preventDefault(),e.setState(k(k({},e.state),{},{cut_pow:Number.parseFloat(t.target.value)}))}}),m.createElement(_.Z.Label,null,this.state.cut_pow)),m.createElement(_.Z.Group,null,m.createElement(_.Z.Label,null,"MSE WEIGHT"),m.createElement(_.Z.Control,{type:"range",defaultValue:"0",disabled:this.props.running,onChange:function(t){t.preventDefault(),e.setState(k(k({},e.state),{},{mse_weight:Number.parseFloat(t.target.value)}))}}),m.createElement(_.Z.Label,null,this.state.mse_weight)),m.createElement(_.Z.Group,null,m.createElement(_.Z.Label,null,"MSE DECAY"),m.createElement(_.Z.Control,{type:"range",defaultValue:"0",disabled:this.props.running,onChange:function(t){t.preventDefault(),e.setState(k(k({},e.state),{},{mse_decay:Number.parseFloat(t.target.value)}))}}),m.createElement(_.Z.Label,null,this.state.mse_decay)),m.createElement(_.Z.Group,null,m.createElement(_.Z.Label,null,"MSE DECAY EVERY"),m.createElement(_.Z.Control,{type:"range",defaultValue:"0",disabled:this.props.running,onChange:function(t){t.preventDefault(),e.setState(k(k({},e.state),{},{mse_decay_every:Number.parseFloat(t.target.value)}))}}),m.createElement(_.Z.Label,null,this.state.mse_decay_every)),m.createElement(_.Z.Group,null,m.createElement(_.Z.Label,null,"STEP SIZE"),m.createElement(_.Z.Control,{type:"range",defaultValue:"0",disabled:this.props.running,onChange:function(t){t.preventDefault(),e.setState(k(k({},e.state),{},{step_size:Number.parseFloat(t.target.value)}))}}),m.createElement(_.Z.Label,null,this.state.step_size)),m.createElement(_.Z.Group,null,m.createElement(_.Z.Label,null,"NOISE FACTOR"),m.createElement(_.Z.Control,{type:"range",defaultValue:"0",disabled:this.props.running,onChange:function(t){t.preventDefault(),e.setState(k(k({},e.state),{},{noise_fac:Number.parseFloat(t.target.value)}))}}),m.createElement(_.Z.Label,null,this.state.noise_fac)),m.createElement(_.Z.Group,null,m.createElement(_.Z.Label,null,"RESOLUTION"),m.createElement(g.Z,null,m.createElement(_.Z.Control,{type:"number",value:this.state.width,disabled:this.props.running,onChange:function(t){t.preventDefault(),e.setState(k(k({},e.state),{},{width:Number.parseInt(t.target.value)}))}}),m.createElement(g.Z.Text,null,"x"),m.createElement(_.Z.Control,{type:"number",value:this.state.height,disabled:this.props.running,onChange:function(t){t.preventDefault(),e.setState(k(k({},e.state),{},{height:Number.parseInt(t.target.value)}))}}))),m.createElement(_.Z.Control,{type:"button",className:"main-btn",value:"Submit",hidden:!this.state.prompts.some((function(e){return e.value.length>0&&e.enabled})),disabled:this.props.running,onClick:function(t){t.preventDefault(),e.props.onSubmit(e.state)}}))}}]),n}(m.Component),P=document.getElementById("prompt_app"),D=m.createElement(O,null);P&&h.render(D,P);var L=n(630),N=n.n(L),x=n(755),T=n.n(x),z=(n(388),n(169),n(521));T()((function(){var e,t,n;T()(".preloader").delay(500).fadeOut(200),T()(window).on("scroll",(function(e){var t=T()(window).scrollTop();t&&(t<20?(T()(".navbar-area").removeClass("sticky"),T()(".navbar .navbar-brand img").attr("src",z)):(T()(".navbar-area").addClass("sticky"),T()(".navbar .navbar-brand img").attr("src",z)))}));var a=T()(".page-scroll");T()(window).scroll((function(){var e=T()(this).scrollTop();a.each((function(){if(e){var t=T()(this).offset();t&&t.top-73<=e&&(T()(this).parent().addClass("active"),T()(this).parent().siblings().removeClass("active"))}}))})),T()(".navbar-nav a").on("click",(function(){T()(".navbar-collapse").removeClass("show")})),T()(".navbar-toggler").on("click",(function(){T()(this).toggleClass("active")})),T()(".navbar-nav a").on("click",(function(){T()(".navbar-toggler").removeClass("active")})),T().ajaxSetup({crossDomain:!0}),null===(e=T()("#loginform"))||void 0===e||e.on("submit",(function(e){e.preventDefault(),T().ajax({url:"https://api.doodlebot.ai/api/auth/login",method:"POST",data:T()("#loginform").serialize()}).done((function(e){console.log(e),window.location.replace("/app")})).fail((function(e){var t;T()("#err_popup").show(),null!==(t=e.responseJSON)&&void 0!==t&&t.msg&&T()("#err_msg").text(e.responseJSON.msg),console.error(e)}))})),null===(t=T()("#registerform"))||void 0===t||t.on("submit",(function(e){e.preventDefault(),T().ajax({url:"https://api.doodlebot.ai/api/auth/register",method:"POST",data:T()("#registerform").serialize()}).done((function(e){console.log(e),window.location.replace("/login")})).fail((function(e){T()("#err_popup").show(),console.error(e)}))})),null===(n=T()("#demo_register"))||void 0===n||n.on("submit",(function(e){e.preventDefault(),T().ajax({url:"https://api.doodlebot.ai/api/signup",method:"POST",data:T()("#demo_register").serialize()}).done((function(e){console.log(e),window.location.replace("/demo2")})).fail((function(e){console.error(e)}))})),T()(window).on("scroll",(function(e){var t=T()(this).scrollTop();null!=t&&(t>600?T()(".back-to-top").fadeIn(200):T()(".back-to-top").fadeOut(200))})),T()(".back-to-top").on("click",(function(e){e.preventDefault(),T()("html, body").animate({scrollTop:0},1500)})),(new(N())).init(),document.getElementById("particles-1")&&particlesJS("particles-1",{particles:{number:{value:40,density:{enable:!0,value_area:4e3}},color:{value:["#FFFFFF","#FFFFFF","#FFFFFF"]},shape:{type:"circle",stroke:{width:0,color:"#fff"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:33,height:33}},opacity:{value:.15,random:!0,anim:{enable:!0,speed:.2,opacity_min:.15,sync:!1}},size:{value:50,random:!0,anim:{enable:!0,speed:2,size_min:5,sync:!1}},line_linked:{enable:!1,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:1,direction:"top",random:!0,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:600}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!1,mode:"bubble"},onclick:{enable:!1,mode:"repulse"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:250,size:0,duration:2,opacity:0,speed:3},repulse:{distance:400,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0}),document.getElementById("particles-2")&&particlesJS("particles-2",{particles:{number:{value:40,density:{enable:!0,value_area:4e3}},color:{value:["#FFFFFF","#FFFFFF","#FFFFFF"]},shape:{type:"circle",stroke:{width:0,color:"#fff"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:33,height:33}},opacity:{value:.15,random:!0,anim:{enable:!0,speed:.2,opacity_min:.15,sync:!1}},size:{value:50,random:!0,anim:{enable:!0,speed:2,size_min:5,sync:!1}},line_linked:{enable:!1,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:1,direction:"top",random:!0,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:600}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!1,mode:"bubble"},onclick:{enable:!1,mode:"repulse"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:250,size:0,duration:2,opacity:0,speed:3},repulse:{distance:400,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0})}))},521:(e,t,n)=>{e.exports=n.p+"ab82b763284e9ff644d5.png"}},n={};function a(e){var r=n[e];if(void 0!==r)return r.exports;var o=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(o.exports,o,o.exports,a),o.loaded=!0,o.exports}a.m=t,e=[],a.O=(t,n,r,o)=>{if(!n){var l=1/0;for(u=0;u<e.length;u++){for(var[n,r,o]=e[u],i=!0,s=0;s<n.length;s++)(!1&o||l>=o)&&Object.keys(a.O).every((e=>a.O[e](n[s])))?n.splice(s--,1):(i=!1,o<l&&(l=o));if(i){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,r,o]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),a.p="./",(()=>{var e={179:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var r,o,[l,i,s]=n,c=0;if(l.some((t=>0!==e[t]))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(s)var u=s(a)}for(t&&t(n);c<l.length;c++)o=l[c],a.o(e,o)&&e[o]&&e[o][0](),e[l[c]]=0;return a.O(u)},n=self.webpackChunkdoodlebot_web=self.webpackChunkdoodlebot_web||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=a.O(void 0,[839],(()=>a(968)));r=a.O(r)})();
//# sourceMappingURL=main.js.map